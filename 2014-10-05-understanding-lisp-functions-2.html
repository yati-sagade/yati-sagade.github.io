<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Explog</title>
        <link href="./theme/bootstrap/css/bootstrap.min.css" 
              rel="stylesheet" media="screen"/>
        <link href="./theme/css/explog.css" rel="stylesheet"
              media="screen" />
        <link href="./theme/css/font-awesome.min.css"
              rel="stylesheet" media="screen" />
        <link href="./theme/css/syntax.css" rel="stylesheet"
              media="screen" />

                    
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type= "text/javascript">
       MathJax.Hub.Config({
           config: ["MMLorHTML.js"],
           jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML"],
           TeX: { extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"], equationNumbers: { autoNumber: "AMS" } },
           extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js"],
           tex2jax: { 
               inlineMath: [ ['$','$'] ],
               displayMath: [ ['$$','$$'] ],
               processEscapes: true },
           "HTML-CSS": {
               styles: { ".MathJax .mo, .MathJax .mi": {color: "black ! important"}}
           }
       });
    </script>

            </head>

    <body>
        <header class="row" id="main-page-heading">
            <section class="row-fluid">
                <section class="span12">
                    <h1 class="muted">
                        <a href=".">
                            <span style="color:black;">exp</span><span style="color:rgb(0, 136, 204);">log</span>
                        </a>
                    </h1>
                </section>
            </section>
        </header>
        <hr />
        <article class="container-fluid">
            <section class="row-fluid">
                <section class="span2">
                    <section class="row-fluid">
                        <section class="well sidebar-nav">
                            <ul class="nav nav-list">
                                <li class=""><a href=".">Home</a></li>
                                <li class=" dropdown-submenu">
                                    <a tabindex="-1" href="./categories.html">Categories</a>
                                    <ul class="dropdown-menu">
                                                                                <li>
                                        <a tabindex="-1" href="./category/foss.html">FOSS</a>
                                        </li>
                                                                                <li>
                                        <a tabindex="-1" href="./category/misc.html">misc</a>
                                        </li>
                                                                                <li>
                                        <a tabindex="-1" href="./category/programming.html">programming</a>
                                        </li>
                                                                                <li>
                                        <a tabindex="-1" href="./category/python.html">python</a>
                                        </li>
                                                                            </ul>
                                </li>
                            </ul>
                            <ul class="nav nav-list">
                                <li class="divider"></li>
                                <li class=""><a href="./pages/about.html">About</a></li>
                            </ul>
                        </section>
                    </section>
                    <section class="row-fluid">
                        <section class="span12">
                            <span class="nav-header">Tag Cloud</span>
                            <section class="well sidebar-nav" id="tag-cloud">
                                <ul>
                                                                        <li class="tag-1"><a href="./tag/lisp.html">lisp</a></li>
                                                                        <li class="tag-4"><a href="./tag/decorators.html">decorators</a></li>
                                                                        <li class="tag-4"><a href="./tag/gunicorn.html">gunicorn</a></li>
                                                                        <li class="tag-4"><a href="./tag/django.html">django</a></li>
                                                                        <li class="tag-4"><a href="./tag/nginx.html">nginx</a></li>
                                                                        <li class="tag-4"><a href="./tag/scipy.html">scipy</a></li>
                                                                        <li class="tag-2"><a href="./tag/algorithms.html">algorithms</a></li>
                                                                        <li class="tag-2"><a href="./tag/math.html">math</a></li>
                                                                        <li class="tag-4"><a href="./tag/Go.html">Go</a></li>
                                                                        <li class="tag-4"><a href="./tag/functional-programming.html">functional-programming</a></li>
                                                                        <li class="tag-4"><a href="./tag/scala.html">scala</a></li>
                                                                        <li class="tag-1"><a href="./tag/programming.html">programming</a></li>
                                                                        <li class="tag-4"><a href="./tag/Wikipedia.html">Wikipedia</a></li>
                                                                        <li class="tag-4"><a href="./tag/MediaWiki.html">MediaWiki</a></li>
                                                                        <li class="tag-4"><a href="./tag/FOSS.html">FOSS</a></li>
                                                                        <li class="tag-4"><a href="./tag/machine-learning.html">machine-learning</a></li>
                                                                        <li class="tag-1"><a href="./tag/python.html">python</a></li>
                                                                        <li class="tag-4"><a href="./tag/C++.html">C++</a></li>
                                                                        <li class="tag-4"><a href="./tag/OpenCV.html">OpenCV</a></li>
                                                                    </ul>
                            </section>
                        </section>
                    </section>
                </section>
                <section class="span9">
    <section class="row-fluid">
        <header class="span9 article-heading">
            <h1><a href="understanding-lisp-functions-2.html" rel="bookmark"
                   title="Permalink to Learning Common Lisp - Functions 2">
                   Learning Common Lisp - Functions 2</a></h1>
        </header>
        <section class="span3">
            Sun 24 March 2013 
        </section>
    </section>
    <section class="row-fluid">
        <section class="span11 article-content">
            <p>In Lisp, functions are just another kind of object. The DEFUN macro creates a
new function object and gives a name to it, which is what is used to call the
function. Nameless functions can be created using LAMBDA.</p>
<p>There is a special operator called FUNCTION that, given an unquoted name of a
function, returns the function object by that name.</p>
<p>Once we have a function object, it can be invoked using either of the functions
FUNCALL and APPLY. When the number of arguments that the function takes is
known, FUNCALL can be used. It takes a function object as its first argument
and all subsequent arguments are passed to the function itself. i.e.,</p>
<div class="highlight"><pre><span class="p">(</span><span class="nv">foo</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span> <span class="nv">===</span> <span class="p">(</span><span class="nb">funcall</span> <span class="nf">#&#39;</span><span class="nv">foo</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
<p>For example, this function <cite>plot</cite> takes a function, the min and max X values
and the step and plots a simple ASCII plot of the function in the range
[min, max]</p>
<div class="highlight"><pre><span class="p">(</span><span class="nb">defun</span> <span class="nv">plot</span> <span class="p">(</span><span class="nv">fn</span> <span class="nb">min</span> <span class="nb">max</span> <span class="nb">step</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">loop</span> <span class="nv">for</span> <span class="nv">i</span> <span class="nv">from</span> <span class="nb">min</span> <span class="nv">to</span> <span class="nb">max</span> <span class="nb">do</span>
        <span class="p">(</span><span class="nb">loop</span> <span class="nv">repeat</span> <span class="p">(</span><span class="nv">fn</span> <span class="nv">i</span><span class="p">)</span> <span class="p">(</span><span class="nb">format</span> <span class="no">t</span> <span class="s">&quot;*&quot;</span><span class="p">))</span>
        <span class="p">(</span><span class="nb">format</span> <span class="no">t</span> <span class="s">&quot;~%&quot;</span><span class="p">)))</span>

<span class="p">(</span><span class="nv">plot</span> <span class="nf">#&#39;</span><span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nv">x</span><span class="p">)</span> <span class="p">(</span><span class="nb">*</span> <span class="nv">x</span> <span class="nv">x</span><span class="p">))</span> <span class="mi">-5</span> <span class="mi">5</span> <span class="mf">.5</span><span class="p">)</span>
</pre></div>
<p>will print</p>
<div class="highlight"><pre>*************************
*********************
****************
*************
*********
*******
****
***
*
*

*
*
***
****
*******
*********
*************
****************
*********************
*************************
</pre></div>
<p>When the arguments to be passed to a function are available as a list, APPLY
can be used conveniently. Say plot-data is a list containing a function, the
min and the max values, and the step value. Then, plot can be invoked as:</p>
<div class="highlight"><pre><span class="p">(</span><span class="nb">apply</span> <span class="nf">#&#39;</span><span class="nv">plot</span> <span class="nv">plot-data</span><span class="p">)</span>
</pre></div>
<p>APPLY expects the function as its first argument and then, it expects a list,
which is to eventually become the argument list of the passed in function. It
also supports loose arguments. Say plot-data only contained min, max and step.
We can still call the PLOT function to plot the exponential function as follows:</p>
<div class="highlight"><pre><span class="p">(</span><span class="nb">apply</span> <span class="nf">#&#39;</span><span class="nv">plot</span> <span class="nf">#&#39;</span><span class="nb">exp</span> <span class="nv">plot-data</span><span class="p">)</span>
</pre></div>
<p>This, in effect, clubs the arguments after the first argument into a single
list which is then passed to the function object given by the first argument.</p>
<div class="section" id="anonymous-functions">
<h2>Anonymous functions</h2>
<p>When a function is used only at a single place, such as to pass a callback to
another function, defining a named function might be an overkill, and one can
use anonymous functions in such cases. These are created using LAMBDA
expressions. A lambda expression has the following form:</p>
<div class="highlight"><pre><span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nv">parameters</span><span class="p">)</span> <span class="nv">body</span><span class="p">)</span>
</pre></div>
<p>A lambda expression can also be thought of as a function name where the name
itself specifies what the function does. We can use lambda expressions anywhere
we would use function names.</p>
<div class="highlight"><pre><span class="p">(</span><span class="nb">funcall</span> <span class="nf">#&#39;</span><span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nv">x</span> <span class="nv">y</span><span class="p">)</span> <span class="p">(</span><span class="nb">+</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">))</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span>
<span class="c1">;; 5</span>
</pre></div>
<p>OR</p>
<div class="highlight"><pre><span class="p">((</span><span class="k">lambda</span> <span class="p">(</span><span class="nv">x</span> <span class="nv">y</span><span class="p">)</span> <span class="p">(</span><span class="nb">+</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">))</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)</span>
<span class="c1">;; 5</span>
</pre></div>
</div>

        </section>
    </section>
</section>
            </section>
        </article>
        <hr />
        <footer class="row-fluid muted" id="footer">
            <section class="span12" id="connect">
                <ul>
                    <li class="social-icon">
                        <a href="./pages/about.html">About</a>
                    </li> |
                                        <li class="social-icon">
                        <a href="http://www.twitter.com/yati_itay" title="twitter"><i class="icon-twitter icon-large"></i></a>
                    </li> |                                         <li class="social-icon">
                        <a href="http://www.github.com/yati-sagade" title="github"><i class="icon-github icon-large"></i></a>
                    </li> |                                         <li class="social-icon">
                        <a href="https://plus.google.com/102607933018279616737" title="google-plus"><i class="icon-google-plus icon-large"></i></a>
                    </li>                     
                    |<li class="social-icon">
                        <a href="https://github.com/yati-sagade/explog-theme" title="get this theme">Get this theme</a>
                    </li>
                </ul>
            </section>
        </footer>
                <script src="./theme/js/jquery-1.8.3.min.js"></script>
        <script src="./theme/bootstrap/js/bootstrap.min.js"></script>
    </body>
</html>